<div class="chat-side-menu">
  <div class="chat-side-menu-body">
    <div class="chat-side-menu-company" *ngIf="!!companyLogo">
      <img aria-label="Logo de l'entité" [src]="companyLogo"/>
    </div>
    <div class="chat-side-menu-divider" *ngIf="!isMobileSize && !!companyLogo"></div>
    <div class="chat-side-menu-header">
      <app-chat-avatar *ngIf="!isMobileSize"
                       [image]="botAvatar"
                       [sideMenu]="true"
                       [ngStyle]="{'display': 'block'}">
      </app-chat-avatar>
      <div>
        <div class="chat-side-menu-name" *ngIf="!isMobileSize">
          <h3>{{ botName }}</h3>
        </div>
        <div class="chat-side-menu-subtitle" *ngIf="!isMobileSize">
          <h4>{{ botSubtitle }}</h4>
        </div>
        <div class="chat-side-menu-description">
          {{ botDescription }}
        </div>
      </div>
    </div>
    <ng-container *ngIf="showRebootBtn">
      <div class="chat-side-menu-divider"></div>
      <button mat-stroked-button color="accent" class="chat-side-menu-reboot" (click)="rebootConversation()">
        Recommencer
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path
            d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
        </svg>
      </button>
    </ng-container>
    <ng-container *ngIf="botName === 'Kidivax'">
      <div class="chat-side-menu-divider"></div>
      <button mat-stroked-button color="accent" class="chat-side-menu-reboot" (click)="fullConversation()">
        Voir toutes les informations
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
          <path d="M0 0h24v24H0V0z" fill="none"/>
          <path
            d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"/>
        </svg>
      </button>
    </ng-container>
    <div class="chat-side-menu-divider"></div>
    <div class="chat-side-menu-accessibility">
      <mat-slide-toggle [checked]="webchatService.accessibility"
                        (change)="webchatService.setAccessibility($event.checked)"
                        color="primary">
        Accessibilité visuelle
      </mat-slide-toggle>
    </div>
    <div class="chat-side-menu-divider"></div>
    <div class="chat-side-menu-actions">
      <ng-container *ngIf="botHelp && botHelpBtn">
        <button class="chat-side-menu-help" mat-flat-button color="primary" (click)="showHelpModal()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20px">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path fill="#ffffff"
                  d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/>
          </svg>
          {{ botHelpBtn }}
        </button>
      </ng-container>
      <a target="_blank" rel="noopener"
         href="https://fabrique-a-chatbots.gitbook.io/fabrique-a-chatbots/accessibilite-du-site">
        <button mat-button color="primary" class="border-button">
          Conformité
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="#000091">
            <path fill="none" d="M0 0h24v24H0z"/>
            <path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"/>
          </svg>
        </button>
      </a>
    </div>
  </div>
  <div class="chat-side-menu-footer">
    <div class="chat-side-menu-footer-develop">
      <span>
      Conçu et développé par la&nbsp;
      </span>
      <a class="external-link"
         target="_blank"
         rel="noopener"
         href="https://beta.gouv.fr/startups/?incubateur=fabnumdef">
        Fabrique Numérique
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
          <path fill="none" d="M0 0h24v24H0z"/>
          <path d="M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8z"/>
        </svg>
      </a>
    </div>
    <div class="chat-side-menu-footer-links">
      <a target="_blank"
         rel="noopener"
         href="https://fabrique-a-chatbots.gitbook.io/fabrique-a-chatbots/cgu">
        Mentions légales
      </a>
    </div>
  </div>
</div>
